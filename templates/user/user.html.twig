{% extends 'base.html.twig' %}

{% block title %}
	Profil de
	{{ userInfo.nickname is defined ? userInfo.nickname : userInfo.username }}
	—
	{{ parent() }}

{% endblock %}
{% block body %}
	{% include "user/_partials/_top.html.twig" %}
	<section class="col-span-12">
		<turbo-frame id="up_profil" class="w-full md:flex pt-10">
			<div class="w-12/12 md:w-4/12 py-10 pt-0 px-5 {% if app.user and app.user.id == userInfo.id %}-mt-5{% else %}-mt-14{% endif %} md:-mt-10 text-center dark:shadow-2xl mb-10 flex flex-col  rounded-lg">
				{% if userInfo.profilPicture %}
					<img class="w-40 h-40 mx-auto rounded-lg   shadow-lg object-fill order-1  dark:ring-gray-500" src="{{userInfo.profilPicture}}">
				{% else %}
					<div class="w-40 h-40 text-9xl no-avatar   order-1">{{userInfo.username|slice(0,1)}}</div>
				{% endif %}
				<h1 class="text-3xl md:text-2xl mb-5 mt-5  order-2 md:order-1  font-semibold text-center py-2 px-2 rounded text-slate-700 font-sans">{{ userInfo.nickname }}</h1>
				<p class="text-slate-700 mb-5  text-center order-3 {{ not userInfo.about ? " hidden"}}  dark:text-slate-200 ">{{ userInfo.about|nl2br }}</p>
				{% if userInfo.website or userInfo.twitter or userInfo.instagram or userInfo.facebook %}
					<div class="flex justify-center order-4 text-2xl mt-5 mb-2 -ml-2 gap-x-5">&nbsp;
						{% if userInfo.website %}
							<a href="{{userInfo.website}}" target="_blank">
								<i data-tippy-content="Visiter le site web de {{userInfo.nickname}}" class="fa-regular fill-slate-800 fa-earth-europe "></i>
							</a>
						{% endif %}
						{% if userInfo.twitter %}
							<a href="{{userInfo.twitter}}" target="_blank">

								<i class="fa-brands fa-twitter " style="color:#1da1f2" data-tippy-content="Voir le profil Twitter de {{userInfo.nickname}}"></i>
							</a>
						{% endif %}
						{% if userInfo.instagram %}
							<a href="{{userInfo.instagram}}" target="_blank">

								<i class="fa-brands fa-instagram " style="color:#e1306c" data-tippy-content="Voir le profil Instagram de {{userInfo.nickname}}"></i>
							</a>
						{% endif %}
						{% if userInfo.facebook %}
							<a href="{{userInfo.facebook}}" target="_blank">

								<i class="fa-brands fa-facebook" style="color:#1877f2" data-tippy-content="Voir le profil Facebook de {{userInfo.nickname}}"></i>
							</a>
						{% endif %}
					</div>
					{% if app.user and app.user.id == userInfo.id %}
						<hr class="mb-10 mt-5 order-5">
					{% endif %}
				{% endif %}
				{% if app.user and app.user.id == userInfo.id %}
					<a href="{{ path('app_user_edit', {'username': app.user.username}) }}" data-turbo-frame="up_profil" class="button-classic order-last md:order-start mt-0 button-slate mx-auto w-full">
						<i class="fa-duotone fa-user-pen"></i>
						Modifier mon profil
					</a>
				{% endif %}
			</div>
			<div class="w-full parent border-l-0 md:ml-10 ml-0 mt-10 md:-mt-10 dark:border-slate-700 p-0  {% if app.user and app.user.id == userInfo.id %}-mt-10{% endif %}">
				<div class="my-special-hr ">
					<hr>
					<span>{{pubInfo|length > 1 ? pubInfo|length ~ " récits" : pubInfo|length == 0 ? "Aucun récit" : pubInfo|length ~ " récit"}}</span>
					<hr class="mb-5">
				</div>
				<div class="publications-container small profil">
					{% for item in pubInfo %}
						{% include "publication/_partials/_show_all-publication.html.twig" with {'item': item, 'slugCat':'all', 'queryPage':1, 'sortBy':'pop', 'querySortby':'pop', 'queryOrder':'desc','queryKeystring':null, 'querySlug':item.slug} %}
					{% endfor %}
				</div>
			</div>
		</turbo-frame>
	</section>
	{% include "user/_partials/_bottom.html.twig" %}
{% endblock %}
