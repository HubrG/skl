<div
	class="sticky top-0 z-100" style="z-index:9000">
	{# !! lire, écrire, corriger #}
	<nav>
		<div class="flex flex-wrap items-center justify-between max-w-screen-xl mx-auto text-center z-100">
			<a href="{{ path("app_home")}}" class="flex items-center  md:order-1 ">
				<span id="logo" class="self-center text-3xl font-semibold whitespace-nowrap dark:text-white">
					Scr<span class="">;</span>|ab
				</a>
				<div class="flex items-center md:order-3">
					<button id="mega-menu-icons-dropdown-button" data-dropdown-toggle="mega-menu-icons-dropdown" type="button" class="text-gray-800 dark:text-white hover:bg-gray-50 focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-2  md:py-2.5 mr-1 md:mr-2 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800">
						<i class="fa-brands fa-readme"></i>
						&nbsp;Lire</button>
					<a href="{{ path("app_publication_add")}}" type="button" data-action="dropdown#toggle click@window->dropdown#hide" class="text-gray-800 dark:text-white hover:bg-gray-50 focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-2  md:py-2.5 mr-1 md:mr-2 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800">
						<i class="fa-solid fa-pen-nib"></i>
						Écrire & publier
					</a>
					{% if app.user %}
						<button type="button" id="dropdownInformationButton" data-dropdown-toggle="dropdownInformation" data-dropdown-trigger="hover" class="text-gray-800 dark:text-white hover:bg-gray-50 focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 mr-1 md:mr-2 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800">
							<i class="fa-solid fa-circle-user"></i>
							<span id="username_login">
								{{ app.user.username|length > 10 ? app.user.username|slice(0, 10) ~ '...' : app.user.username }}</span>
						</button>
						<!-- Dropdown menu -->
						<div id="dropdownInformation" class="z-20 border-t-2 border-t-purple-400 hidden bg-white divide-y divide-gray-100 rounded-b shadow-lg w-44 dark:bg-slate-700 dark:divide-gray-600">
							<ul class="py-1 text-sm text-gray-700 dark:text-gray-200 text-left" aria-labelledby="dropdownInformationButton">
								<li>
									<a href="{{ path("app_user", { username : app.user.username}) }}" class=" hover:bg-gray-100 text-gray-900 dark:text-slate-200 dark:hover:bg-slate-600 block px-4 py-2 text-sm">Mon profil</a>
								</li>
								<li>
									<a href="{{ path("app_user_show_publications") }}" class=" hover:bg-gray-100 text-gray-900 dark:text-slate-200 dark:hover:bg-slate-600 block px-4 py-2 text-sm">Mes histoires</a>
								</li>
							</ul>
							{% if is_granted('ROLE_ADMIN') %}
								<div class="py-1  text-left">
									<a href="{{ path("app_admin") }}" class=" hover:bg-gray-100 text-gray-900 dark:text-slate-200 dark:hover:bg-slate-600 block px-4 py-2 text-sm">
										<i class=" fa-solid fa-screwdriver-wrench"></i>
										&nbsp;&nbsp;&nbsp;Admin</a>
								</div>
							{% endif %}
							<div class="py-1  text-left">
								<a href="{{ path("app_logout")}}" class=" hover:bg-gray-100 text-gray-900 dark:text-slate-200 dark:hover:bg-slate-600 block px-4 py-2 text-sm">Déconnexion</a>
							</div>
						</div>
					{% else %}
						<button data-modal-target="authentication-modal" data-modal-toggle="authentication-modal" class="text-gray-800 dark:text-white hover:bg-gray-50 focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 mr-1 md:mr-2 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800">
							Connexion
						</button>
						{% include "partials/_modals.html.twig" with {"modal" : "reset"} %}
					{% endif %}
					{% if not app.user %}
						<a href="{{ path("app_register") }}" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 mr-1 md:mr-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Inscription</a>
					{% endif %}
					<button id="darkButton" type="button" data-tooltip-target="tooltip-dm" data-tooltip-placement="bottom" class="text-gray-800 dark:text-white hover:bg-gray-50 focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 mr-1 md:mr-2 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800 hidden">
						<i class="fa-solid fa-circle-half-stroke text-black dark:text-slate-200"></i>
					</button>
					<div id="tooltip-dm" role="tooltip" class=" absolute z-10 invisible px-3 py-2 text-xs font-normal text-white bg-slate-700 rounded-lg opacity-0 tooltip dark:bg-gray-700">
						Passer en mode
						<span id="darkMode"></span>
						<div class="tooltip-arrow" data-popper-arrow></div>
					</div>
					<button data-collapse-toggle="mega-menu-icons" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mega-menu-icons" aria-expanded="false">
						<span class="sr-only">Open main menu</span>
						<svg aria-hidden="true" class="w-6 h-6" fill="currentColor" viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
							<path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
						</svg>
					</button>
				</div>
				<div id="mega-menu-icons" class="items-center justify-between hidden w-full md:flex md:w-auto md:order-2">
					<ul class="flex flex-col mt-4 text-sm font-medium md:flex-row md:space-x-8 md:mt-0 ">
						<div id="mega-menu-icons-dropdown" class="absolute z-10 hidden w-auto text-sm  bg-white border border-gray-100 rounded-b-lg border-t-2  border-t-green-400 shadow-md dark:border-gray-700 md:grid-cols-3 dark:bg-gray-700">
							<div class=" pt-0 pb-0 text-gray-900 md:pb-4 dark:text-white divide-y divide-gray-100">
								<div aria-labelledby="mega-menu-icons-dropdown-button" class="w-full hover:bg-slate-50 border-b-[1px] border-b-slate-200">
									<a class="block px-4 py-4 text-sm text-emerald-900   dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white" href="{{ path("app_publication_show_all_category", {slug:null, page:null})}}">Tous les récits</a>
								</div>
								<ul class="space-y-3 px-6 flex-col grid-rows-6 grid-flow-col gap-x-2 grid justify-items-start items-baseline" aria-labelledby="mega-menu-icons-dropdown-button">
									{% for item in publicationCategoryRepository.findAll() %}
										<li>
											<a href="{{ path("app_publication_show_all_category", {slug:item.slug, page:null})}}" class="flex items-center text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-500 group">
												<span class="sr-only">{{ item.name }}</span>
												{{ item.name }}
											</a>
										</li>
									{% endfor %}
								</ul>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</nav>
</div>
