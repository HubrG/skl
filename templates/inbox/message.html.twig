{% extends 'base.html.twig' %}
{% block title %}Conversation avec
	{{group.name}}
	-
	{{ parent() }}
{% endblock %}
{% block body %}

	<div class="flex flex-col md:flex-row w-full -mt-10">
		{{ component("inbox_group_component", {id:app.user.id, group:group.id})}}
		{% set goup = group.id %}
		<div class="w-full flex flex-col justify-end items-start bg-slate-50 dark:bg-slate-900  border-l-[1px] border-r-[1px] dark:border-slate-700 px-12">
			<turbo-frame id="messages-frame" class="w-full flex scroll-smooth flex-col gap-y-2   pb-5" data-id="{{goup}}">
				<div class=" h-[60vh] md:h-[80vh] flex flex-col justify-end items-start" id="message-box">
					{{ component("inbox_component", {id:goup})}}
				</div>
				{{ form_start(form, {attr: {'class':'w-full  gap-x-2 items-center'}}) }}
				<div class="flex flex-row gap-x-2 w-full items-center">
					<div class="w-full">
						{% include "./partials/_form-row.html.twig" with {form: form.content,"dataId":goup, value:'', 'icon':"fa-message",classWidget:"textarea w-full"} %}
					</div>
					<div>
						<button type="submit" class="button-classic button-emerald py-2 -mt-1 rounded-full" onclick="setTimeout(function() { document.getElementById('inbox_content').value = ''})">
							<i class="fa-regular fa-paper-plane-top my-1"></i>
						</button>
					</div>
				</div>
				{{ form_end(form) }}
			</turbo-frame>
		</div>
	</div>
{% endblock %}
